---
import LpLayout from "../layouts/LpLayout.astro";
import OshiraseList from "../components/OshiraseList.astro";
import { getOshirase } from "../lib/oshirase";

let contents = [];

try {
  const response = await getOshirase(3);
  contents = response.contents;
} catch (error) {
  console.warn("Failed to fetch news from microCMS.", error);
}

const highlights = [
  {
    title: "ライトフォレスト",
    subtitle: "陽だまりの広葉樹林",
    desc: "コナラとクヌギに囲まれた明るい森。木漏れ日の下で、家族でもソロでもゆったり過ごせます。",
    image: "/images/lp/scene-01.jpg",
  },
  {
    title: "ディープフォレスト",
    subtitle: "静寂の針葉樹林",
    desc: "樹齢80年のスギ・ヒノキが立つ深い森。直火を楽しみたいブッシュクラフト派に人気です。",
    image: "/images/lp/scene-02.jpg",
  },
  {
    title: "おいらの薪",
    subtitle: "林業家が届ける本物の焚き火",
    desc: "オーナー自ら伐採・乾燥した薪を販売。火付き・火持ちの良さが違う、森の恵みを体験できます。",
    image: "/images/lp/scene-03.jpg",
  },
];
---

<LpLayout title="おいらの森キャンプ場 | 那須烏山の森で過ごす特別な時間">
  <section
    class="hero min-h-[88vh]"
    style="background-image:url('/images/lp/hero.jpg'); background-position:center; background-size:cover;"
  >
    <div class="hero-overlay bg-black/45"></div>
    <div class="hero-content text-neutral-content text-left px-5">
      <div class="max-w-3xl">
        <p class="font-semibold tracking-[0.2em] text-sm">OI RA NO MORI CAMP</p>
        <h1 class="mt-3 text-4xl md:text-6xl font-bold leading-tight">おいらの森で、<br />森と暮らすキャンプを。</h1>
        <p class="mt-5 text-base md:text-lg leading-relaxed opacity-95">
          栃木県那須烏山市の自然林を活かしたキャンプ場。<br />
          明るいライトフォレストと静寂のディープフォレスト、
          2つの森で焚き火と余白の時間を楽しめます。
        </p>
        <div class="mt-8 flex flex-wrap gap-3">
          <a href="https://www.nap-camp.com/tochigi/14964" class="btn btn-primary">予約する</a>
          <a href="#highlights" class="btn btn-outline btn-neutral text-white border-white hover:text-neutral">
            森の魅力を見る
          </a>
        </div>
      </div>
    </div>
  </section>

  <section class="bg-base-100 py-14" id="concept">
    <div class="mx-auto max-w-6xl px-4 grid md:grid-cols-3 gap-5">
      <div class="card bg-base-200">
        <div class="card-body">
          <h2 class="card-title">コンセプト</h2>
          <p>100年先を見据えた森づくりと、自然への敬意を大切にしたキャンプ体験。</p>
        </div>
      </div>
      <div class="card bg-base-200">
        <div class="card-body">
          <h2 class="card-title">営業情報</h2>
          <p>チェックイン 13:00〜 / チェックアウト 〜11:00。詳細は予約ページをご確認ください。</p>
        </div>
      </div>
      <div class="card bg-base-200">
        <div class="card-body">
          <h2 class="card-title">アクセス</h2>
          <p>宇都宮市内から車で約60分。関東圏から週末の小旅行にちょうど良い立地です。</p>
        </div>
      </div>
    </div>
  </section>

  <section id="news" class="bg-gray-50/80 py-10">
    <div class="mx-auto max-w-6xl px-4">
      <h2 class="text-3xl font-bold">お知らせ</h2>
    </div>
    <OshiraseList items={contents} />
  </section>

  <section id="highlights" class="py-16 bg-base-100">
    <div class="mx-auto max-w-6xl px-4">
      <h2 class="text-3xl font-bold">おいらの森の魅力</h2>
      <p class="mt-3 opacity-80 max-w-3xl">「明るさ」と「深さ」が共存する森で、同じ1泊でもまったく違う時間を過ごせます。</p>

      <div class="mt-10 grid gap-7 md:grid-cols-3">
        {
          highlights.map((item) => (
            <article class="card bg-base-100 border border-base-300 shadow-sm">
              <figure class="aspect-[4/3] overflow-hidden">
                <img src={item.image} alt={item.title} class="h-full w-full object-cover" loading="lazy" />
              </figure>
              <div class="card-body">
                <p class="text-xs tracking-widest opacity-60">{item.subtitle}</p>
                <h3 class="card-title">{item.title}</h3>
                <p class="opacity-80">{item.desc}</p>
              </div>
            </article>
          ))
        }
      </div>
    </div>
  </section>

  <section class="py-16 bg-base-200/70" id="cta">
    <div class="mx-auto max-w-4xl px-4 text-center">
      <h2 class="text-3xl font-bold">次の週末、森へ行こう。</h2>
      <p class="mt-4 opacity-80">
        空き状況の確認・料金・設備詳細は予約ページから。はじめての方でも安心して利用できるよう、最新情報を随時更新しています。
      </p>
      <div class="mt-7">
        <a href="https://www.nap-camp.com/tochigi/14964" class="btn btn-primary btn-wide">予約ページへ進む</a>
      </div>
    </div>
  </section>
</LpLayout>
